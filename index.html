<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nikita Lipatov - Creator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            cursor: none !important;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background: #ffffff;
            color: #000000;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            overflow-x: hidden;
            cursor: none;
        }

        /* Custom cursor */
        .cursor {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            background: white;
            transition: transform 0.15s ease-out, width 0.3s ease, height 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .cursor.hover {
            width: 40px;
            height: 40px;
        }

        /* Smooth animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @keyframes slideInRight {
            from { opacity: 0; transform: translateX(20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        /* Audio Player Styles */
        .play-button {
            display: inline-block;
            font-size: 13px;
            color: #000;
            transition: all 0.3s ease;
            cursor: none;
            user-select: none;
            position: relative;
            z-index: 15;
        }

        .play-button:hover {
            text-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
            transform: scale(1.1);
        }

        /* Glitch effect */
        @keyframes glitch {
            0%, 100% {
                text-shadow: 
                    0.02em 0 0 rgba(255, 0, 0, 0.75),
                    -0.02em -0 0 rgba(0, 255, 255, 0.75);
            }
            14% {
                text-shadow: 
                    0.5em 0 0 rgba(255, 0, 0, 0.75),
                    -0.5em -0 0 rgba(0, 255, 255, 0.75);
            }
            15% {
                text-shadow: 
                    -0.5em -0.025em 0 rgba(255, 0, 0, 0.75),
                    0.025em 0.025em 0 rgba(0, 255, 255, 0.75);
            }
            49% {
                text-shadow: 
                    -0.5em -0.025em 0 rgba(255, 0, 0, 0.75),
                    0.025em 0.025em 0 rgba(0, 255, 255, 0.75);
            }
            50% {
                text-shadow: 
                    0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
                    0.05em 0 0 rgba(0, 255, 255, 0.75);
            }
            99% {
                text-shadow: 
                    0.025em 0.05em 0 rgba(255, 0, 0, 0.75),
                    0.05em 0 0 rgba(0, 255, 255, 0.75);
            }
        }

        @keyframes glitch-skew {
            0%, 100% {
                transform: skew(0deg);
            }
            20% {
                transform: skew(2deg);
            }
            40% {
                transform: skew(-2deg);
            }
            60% {
                transform: skew(0.5deg);
            }
            80% {
                transform: skew(-0.5deg);
            }
        }

        /* Flash effect */
        @keyframes flash {
            0% {
                background: transparent;
            }
            50% {
                background: rgba(255, 255, 255, 0.9);
                box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
            }
            100% {
                background: transparent;
            }
        }

        .glitch-active {
            animation: glitch 0.4s ease-in-out, glitch-skew 0.4s ease-in-out;
        }

        .flash-active {
            animation: flash 0.2s ease-out;
            position: relative;
            z-index: 20;
            padding: 0 10px;
            margin: 0 -10px;
            border-radius: 3px;
        }

        /* Data corruption effect */
        @keyframes data-corruption {
            0%, 100% {
                opacity: 1;
            }
            10% {
                opacity: 0.8;
                transform: translateX(2px);
            }
            20% {
                opacity: 1;
                transform: translateX(-1px);
            }
            30% {
                opacity: 0.9;
                transform: translateX(1px);
            }
            40% {
                opacity: 1;
                transform: translateX(-2px);
            }
            50% {
                opacity: 0.95;
                transform: translateX(0);
            }
        }

        .corruption-active {
            animation: data-corruption 0.5s ease-in-out;
        }

        /* Left sidebar */
        .left-sidebar {
            position: fixed;
            left: 60px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 13px;
            letter-spacing: 0.5px;
            text-align: left;
            z-index: 10;
            animation: slideIn 1s ease;
        }

        .creator-name {
            font-weight: 500;
            color: #000;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .location {
            color: #999;
            font-size: 13px;
            transition: all 0.3s ease;
        }

        .about-link {
            color: #999;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            display: inline-block;
        }

        .about-link::after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 1px;
            background: #999;
            transition: width 0.3s ease;
        }

        .about-link:hover::after {
            width: 100%;
        }

        /* Right sidebar */
        .right-sidebar {
            position: fixed;
            right: 60px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 4px;
            font-size: 13px;
            letter-spacing: 0.5px;
            text-align: right;
            z-index: 10;
            animation: slideInRight 1s ease;
        }

        .right-sidebar a {
            color: #999;
            text-decoration: none;
            transition: all 0.3s ease;
            position: relative;
            display: inline-block;
            align-self: flex-end;
        }

        .right-sidebar a::after {
            content: '';
            position: absolute;
            right: 0;
            top: 50%;
            width: 0;
            height: 1px;
            background: #999;
            transition: width 0.3s ease;
        }

        .right-sidebar a:hover::after {
            width: 100%;
        }

        .social-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        /* Main container */
        .media-container {
            width: 800px;
            height: 600px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #ffffff;
            animation: fadeIn 1.5s ease;
            overflow: visible;
        }

        .media-container img,
        .media-container video {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            display: block;
            transition: opacity 0.7s ease;
        }

        .media-caption {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            color: #999;
            letter-spacing: 0.5px;
            opacity: 0;
            transition: opacity 0.3s ease;
            white-space: nowrap;
            z-index: 5;
        }

        .media-container:hover .media-caption {
            opacity: 1;
        }

        /* About modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.98);
            z-index: 100;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(20px);
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            max-width: 600px;
            padding: 60px;
            text-align: left;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 40px;
            right: 40px;
            font-size: 28px;
            background: none;
            border: none;
            color: #666;
            transition: color 0.2s ease;
            padding: 0;
            line-height: 1;
        }

        .modal-close::after {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 1px;
            background: #666;
            transition: width 0.3s ease;
        }

        .modal-close:hover::after {
            width: 100%;
        }

        .about-photo {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: #f0f0f0;
            margin-bottom: 30px;
            object-fit: cover;
        }

        .about-text {
            font-size: 14px;
            line-height: 1.8;
            color: #333;
            margin-bottom: 20px;
        }

        .about-title {
            font-size: 24px;
            font-weight: 500;
            margin-bottom: 20px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .left-sidebar { left: 30px; }
            .right-sidebar { right: 30px; }
        }

        @media (max-width: 768px) {
            .cursor { display: none; }
            * { cursor: auto !important; }
            
            .media-container {
                width: 300px;
                height: 300px;
            }

            .left-sidebar,
            .right-sidebar {
                font-size: 11px;
            }

            .left-sidebar {
                left: 20px;
                top: auto;
                bottom: 20px;
                transform: none;
            }

            .right-sidebar {
                right: 20px;
                top: 20px;
                transform: none;
            }

            .modal-content {
                padding: 40px;
                margin: 20px;
            }
        }

        @media (max-width: 480px) {
            .media-container {
                width: 250px;
                height: 250px;
            }

            .left-sidebar {
                left: 15px;
                bottom: 15px;
            }

            .right-sidebar {
                right: 15px;
                top: 15px;
            }
        }

        /* Ultra-wide support */
        @media (min-width: 2560px) {
            .media-container {
                width: 500px;
                height: 500px;
            }
            .left-sidebar { left: 100px; }
            .right-sidebar { right: 100px; }
        }

        /* Fade animation */
        @keyframes fadeAnimation {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .fade-in {
            animation: fadeAnimation 0.5s ease;
        }
    </style>
</head>
<body>
    <!-- Custom cursor -->
    <div class="cursor" id="cursor"></div>

    <!-- Hidden audio player -->
    <audio id="audio-player" preload="none"></audio>

    <!-- Left sidebar -->
    <div class="left-sidebar">
        <div class="creator-name" id="creator-name-wrapper">
            <span class="play-button hoverable" id="play-button">▶</span>
            <span id="creator-name-text">Nikita Lipatov</span>
        </div>
        <div class="location">Moscow, Russia</div>
        <a href="#" class="about-link hoverable" id="about-link">About</a>
    </div>

    <!-- Main media container -->
    <div class="media-container" id="media-container">
        <img id="media-element" src="" alt="">
        <div class="media-caption" id="caption"></div>
    </div>

    <!-- Right sidebar -->
    <div class="right-sidebar">
        <div class="social-group">
            <a href="mailto:hello@nik.lipatov.com" class="hoverable">hello@nik.lipatov.com</a>
        </div>
        <div class="social-group">
            <a href="https://t.me/letttovvv" target="_blank" class="hoverable">Telegram</a>
            <a href="https://www.instagram.com/letov.wav/" target="_blank" class="hoverable">Instagram</a>
        </div>
    </div>

    <!-- About Modal -->
    <div class="modal" id="about-modal">
        <div class="modal-content">
            <button class="modal-close hoverable" id="close-modal">×</button>
            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150'%3E%3Crect width='150' height='150' fill='%23f0f0f0'/%3E%3C/svg%3E" alt="Nikita Lipatov" class="about-photo">
            <h2 class="about-title">Nikita Lipatov</h2>
            <div class="about-text">
                Creator and visual artist based in Moscow, Russia. Specializing in architectural photography and minimalist visual narratives. My work explores the intersection of urban geometry and human perception, capturing the silent dialogue between concrete forms and empty spaces.
                <br><br>
                Through monochrome imagery, I seek to reveal the hidden rhythms of metropolitan landscapes, where brutalist structures become poetry and shadows tell stories of time passing.
                <br><br>
                Available for commissions and collaborations worldwide.
            </div>
        </div>
    </div>

    <script>
        // Custom cursor
        const cursor = document.getElementById('cursor');
        let mouseX = 0;
        let mouseY = 0;
        let cursorX = 0;
        let cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function animateCursor() {
            cursorX += (mouseX - cursorX) * 0.15;
            cursorY += (mouseY - cursorY) * 0.15;
            
            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';
            
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // Hover effect for cursor
        document.querySelectorAll('.hoverable').forEach(element => {
            element.addEventListener('mouseenter', () => cursor.classList.add('hover'));
            element.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
        });

        // Audio Player Configuration
        const audioTracks = [
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/video/upload/v1757034914/Sweet_Trip_-_To_All_the_Dancers_of_the_World_a_Round_Form_of_Fantasy_ff57eg.mp3',
                name: 'Ambient Track 01',
                volume: 50
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/video/upload/v1757035155/Sweet_Trip_International_s4z1no.mp3',
                name: 'Noise Composition 03',
                volume: 50
            }
        ];

        let currentTrackIndex = 0;
        let isPlaying = false;
        const audioPlayer = document.getElementById('audio-player');
        const playButton = document.getElementById('play-button');
        const creatorNameWrapper = document.getElementById('creator-name-wrapper');
        const creatorNameText = document.getElementById('creator-name-text');

        // Initialize audio player
        function initAudioPlayer() {
            if (audioTracks.length > 0) {
                loadTrack(0);
            }
        }

        // Load track
        function loadTrack(index) {
            if (index >= 0 && index < audioTracks.length) {
                const track = audioTracks[index];
                audioPlayer.src = track.url;
                audioPlayer.volume = track.volume / 100;
                currentTrackIndex = index;
                
                // Error handling
                audioPlayer.onerror = () => {
                    console.error(`Failed to load track: ${track.name}`);
                    // Try next track if available
                    if (currentTrackIndex < audioTracks.length - 1) {
                        loadTrack(currentTrackIndex + 1);
                    }
                };
            }
        }

        // Play/Pause functionality
        function togglePlayPause() {
            if (isPlaying) {
                pauseAudio();
            } else {
                playAudio();
            }
        }

        function playAudio() {
            // Check if this is the first play in the session
            const hasPlayedBefore = sessionStorage.getItem('audioPlayedInSession');
            
            if (!hasPlayedBefore) {
                // First time playing - show special effects
                triggerFirstPlayEffects();
                sessionStorage.setItem('audioPlayedInSession', 'true');
            }
            
            audioPlayer.play()
                .then(() => {
                    isPlaying = true;
                    playButton.textContent = '❚❚';
                })
                .catch(error => {
                    console.error('Playback failed:', error);
                });
        }

        function pauseAudio() {
            audioPlayer.pause();
            isPlaying = false;
            playButton.textContent = '▶';
        }

        // Special effects for first play
        function triggerFirstPlayEffects() {
            // Flash effect
            creatorNameWrapper.classList.add('flash-active');
            
            setTimeout(() => {
                creatorNameWrapper.classList.remove('flash-active');
                // Glitch effect
                creatorNameWrapper.classList.add('glitch-active');
                creatorNameText.classList.add('corruption-active');
                
                // Temporary text corruption
                const originalText = creatorNameText.textContent;
                const glitchChars = '!@#$%^&*()_+-=[]{}|;:,.<>?';
                let glitchInterval = setInterval(() => {
                    let corrupted = '';
                    for (let i = 0; i < originalText.length; i++) {
                        if (Math.random() > 0.7) {
                            corrupted += glitchChars[Math.floor(Math.random() * glitchChars.length)];
                        } else {
                            corrupted += originalText[i];
                        }
                    }
                    creatorNameText.textContent = corrupted;
                }, 50);
                
                // Restore original text
                setTimeout(() => {
                    clearInterval(glitchInterval);
                    creatorNameText.textContent = originalText;
                    creatorNameWrapper.classList.remove('glitch-active');
                    creatorNameText.classList.remove('corruption-active');
                }, 400);
            }, 200);
        }

        // Play button click handler
        playButton.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            togglePlayPause();
        });

        // Handle track end
        audioPlayer.addEventListener('ended', () => {
            // Move to next track
            if (currentTrackIndex < audioTracks.length - 1) {
                loadTrack(currentTrackIndex + 1);
                playAudio();
            } else {
                // Loop back to first track
                loadTrack(0);
                playAudio();
            }
        });

        // Media array with metadata for each image
        const mediaFiles = [
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756934385/DSC01690_eusufp.jpg',
                title: 'Urban Geometry',
                type: 'photos',
                date: 'dec.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756934576/DSC01691_vkhdm4.jpg',
                title: 'Brutalist Forms',
                type: 'photos',
                date: 'dec.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756934672/DSC01721_xc6zgw.jpg',
                title: 'Concrete Poetry',
                type: 'photos',
                date: 'nov.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756934693/DSC01724_ooiqiv.jpg',
                title: 'Silent Structures',
                type: 'photos',
                date: 'nov.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935467/DSC01599_fpt6ww.jpg',
                title: 'Metropolitan Rhythms',
                type: 'photos',
                date: 'oct.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935467/DSC01616_kcsr7h.jpg',
                title: 'Shadow Studies',
                type: 'photos',
                date: 'oct.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935468/DSC01640_pdawaq.jpg',
                title: 'Unnamed Project',
                type: 'photos',
                date: 'sep.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935472/DSC01650_m8kf0d.jpg',
                title: 'Urban Series',
                type: 'photos',
                date: 'sep.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935531/DSC019192_usv0jh.jpg',
                title: 'Architecture Study',
                type: 'photos',
                date: 'aug.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935478/postrave_icons_03_dwrlv8.jpg',
                title: 'Postrave Icons',
                type: 'design',
                date: 'jul.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935486/postrave_icons_04_pbdg3w.jpg',
                title: 'Postrave Icons',
                type: 'design',
                date: 'jul.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935483/postrave_icons_02_xivagj.jpg',
                title: 'Postrave Icons',
                type: 'design',
                date: 'jul.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935479/postrave_icons_01_zhab8t.jpg',
                title: 'Postrave Icons',
                type: 'design',
                date: 'jul.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935481/DSC01843_sfsxrz.jpg',
                title: 'Empty Spaces',
                type: 'photos',
                date: 'jun.2024'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935947/Almaty25_02_jbg0kn.jpg',
                title: 'Almaty 2025',
                type: 'photos',
                date: 'jan.2025'
            },
            {
                url: 'https://res.cloudinary.com/doq7zpbj8/image/upload/v1756935948/Almaty25_01_bsczyk.jpg',
                title: 'Almaty 2025',
                type: 'photos',
                date: 'jan.2025'
            }
        ];

        // Shuffled sequence management
        let shuffledSequence = [];
        let currentPosition = 0;
        let intervalId;
        let isPaused = false;

        // Get elements
        const mediaElement = document.getElementById('media-element');
        const mediaContainer = document.getElementById('media-container');
        const caption = document.getElementById('caption');
        const aboutLink = document.getElementById('about-link');
        const aboutModal = document.getElementById('about-modal');
        const closeModal = document.getElementById('close-modal');

        // Shuffle function - Fisher-Yates algorithm
        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        // Create new shuffled sequence
        function createNewSequence() {
            // Create array of indices [0, 1, 2, ..., X-1]
            const indices = [];
            for (let i = 0; i < mediaFiles.length; i++) {
                indices.push(i);
            }
            // Shuffle and reset position
            shuffledSequence = shuffleArray(indices);
            currentPosition = 0;
        }

        // Function to update media
        function updateMedia() {
            // If we've shown all images, create new sequence
            if (currentPosition >= shuffledSequence.length) {
                createNewSequence();
            }
            
            // Get current media based on shuffled sequence
            const mediaIndex = shuffledSequence[currentPosition];
            const currentMedia = mediaFiles[mediaIndex];
            
            // Add fade effect
            mediaElement.style.opacity = '0';
            
            setTimeout(() => {
                mediaElement.src = currentMedia.url;
                mediaElement.style.opacity = '1';
            }, 150);
            
            // Update caption: position in current cycle / total count
            caption.textContent = `${currentPosition + 1}/${mediaFiles.length} ||: ${currentMedia.title} | ${currentMedia.type} | ${currentMedia.date}`;
            
            // Move to next position
            currentPosition++;
        }

        // Start autoplay
        function startAutoplay() {
            if (!isPaused) {
                intervalId = setInterval(updateMedia, 1400);
            }
        }

        // Stop autoplay
        function stopAutoplay() {
            clearInterval(intervalId);
        }

        // Media container hover handlers
        mediaContainer.addEventListener('mouseenter', () => {
            isPaused = true;
            stopAutoplay();
            cursor.classList.add('hover');
        });

        mediaContainer.addEventListener('mouseleave', () => {
            isPaused = false;
            cursor.classList.remove('hover');
            stopAutoplay();
            startAutoplay();
        });

        // Modal handlers
        aboutLink.addEventListener('click', (e) => {
            e.preventDefault();
            aboutModal.classList.add('active');
        });

        closeModal.addEventListener('click', () => {
            aboutModal.classList.remove('active');
        });

        aboutModal.addEventListener('click', (e) => {
            if (e.target === aboutModal) {
                aboutModal.classList.remove('active');
            }
        });

        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && aboutModal.classList.contains('active')) {
                aboutModal.classList.remove('active');
            }
        });

        // Preload images for smoother transitions
        mediaFiles.forEach(media => {
            const img = new Image();
            img.src = media.url;
        });

        // Initialize
        createNewSequence();
        updateMedia();
        startAutoplay();
        initAudioPlayer();
    </script>
</body>
</html>
